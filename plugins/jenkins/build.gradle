plugins {
    id "java"
    id "org.jenkins-ci.jpi" version "0.43.0"
}

group "org.purpurmc.papyrus"
version "0.1.0"

java {
    sourceCompatibility = "11"
    targetCompatibility = "11"
}

repositories {
    mavenCentral()
    maven {
        url "https://repo.jenkins-ci.org/public/"
    }
}

dependencies {
    implementation "org.jenkins-ci.plugins:mailer:414.vcc4c33714601"
    implementation "com.google.code.gson:gson:2.9.0"
}

jenkinsPlugin {
    jenkinsVersion = "2.346"
    displayName = "Papyrus Integration"
    gitHubUrl = "https://github.com/PurpurMC/papyrus"

    repoUrl = "https://repo.purpurmc.org/releases"
    snapshotRepoUrl = "https://repo.purpurmc.org/snapshots"
}

tasks.named('server').configure {
    execSpec { JavaExecSpec s ->
        s.args("--enable-future-java")
    }
}
